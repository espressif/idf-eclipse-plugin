<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="com.espressif.idf.ui.new.wizard.category"
            name="%category.name">
      </category>
      <wizard
            category="com.espressif.idf.ui.new.wizard.category"
            class="com.espressif.idf.ui.wizard.NewIDFProjectWizard"
            icon="icons/espressif_idf_project.png"
            id="com.espressif.idf.ui.new.project.wizard"
            name="%wizard.name"
            project="true">
         <description>
            %wizard.description
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.cdt.ui.CPerspective">
         <newWizardShortcut
               id="com.espressif.idf.ui.new.project.wizard">
         </newWizardShortcut>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <category
            id="com.espressif.idf.ui.category.import"
            name="%category.name.0">
      </category>
      <wizard
            category="com.espressif.idf.ui.category.import"
            class="com.espressif.idf.ui.wizard.ImportIDFProjectWizard"
            icon="icons/espressif_idf_project.png"
            id="com.espressif.idf.ui.wizard.import.idf"
            name="%wizard.name.0">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="com.espressif.idf.ui.update.InstallToolsHandler"
            id="com.espressif.idf.ui.command.install"
            name="%command.name">
      </command>
      <command
            defaultHandler="com.espressif.idf.ui.update.ListInstalledToolsHandler"
            id="com.espressif.idf.ui.command.list"
            name="%command.name.0">
      </command>
      <command
            defaultHandler="com.espressif.idf.ui.help.LaunchEspIdfDocHandler"
            id="com.espressif.idf.ui.command.idfversiondoc"
            name="%command.name.1">
      </command>
      <command
            id="com.espressif.idf.ui.commands.installespidf"
            name="%command.name.2">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:help?after=installespidf">
         <menu
               icon="icons/espressif.png"
               id="espidftoolsInstall"
               label="%menu.label">
            <command
                  commandId="com.espressif.idf.ui.command.install"
                  icon="icons/espressif.png"
                  style="push">
            </command>
            <command
                  commandId="com.espressif.idf.ui.command.list"
                  icon="icons/espressif.png"
                  style="push">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:help?after=org.eclipse.epp.mpc.ui.command.showMarketplaceWizard">
         <separator
               name="com.espressif.idf.espressif.seperator"
               visible="true">
         </separator>
         <command
               commandId="com.espressif.idf.ui.command.idfversiondoc"
               icon="icons/espressif.png"
               id="idfversiondoc"
               label="%command.label"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:help?after=idfversiondoc">
         <command
               commandId="com.espressif.idf.ui.commands.installespidf"
               icon="icons/espressif.png"
               id="installespidf"
               label="%command.label.0"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="com.espressif.idf.ui.handlers.NewProjectHandler"
            id="com.espressif.idf.ui.command.new"
            name="%wizard.name">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:common.new.menu?after=new">
         <command
               commandId="com.espressif.idf.ui.command.new"
               icon="icons/espressif_idf_project.png"
               label="%wizard.name"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="org.eclipse.cdt.ui.CPerspective">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
    <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?before=additions">
         <separator
               name="com.espressif.idf.espressif.seperator"
               visible="true">
         </separator>
         <command
               commandId="com.espressif.idf.ui.memoryanalysis"
               icon="icons/espressif.png"
               label="%command.label.1"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <instanceof
                        value="org.eclipse.core.resources.IResource">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="com.espressif.idf.ui.size.IDFSizeMemoryHandler"
            id="com.espressif.idf.ui.memoryanalysis"
            name="%command.name.3">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.espressif.idf.ui.size.IDFSizeAnalysisEditor"
            default="false"
            icon="icons/espressif.png"
            id="com.espressif.idf.ui.editor.idfsize"
            name="%editor.name">
      </editor>
   </extension>
   <extension
         point="org.eclipse.cdt.launch.coreBuildTab">
      <provider
            nature="com.espressif.idf.core.idfNature"
            tabClass="com.espressif.idf.ui.dialogs.CMakeBuildTab2">
      </provider>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.espressif.idf.ui.install.IDFDownloadHandler"
            commandId="com.espressif.idf.ui.commands.installespidf">
      </handler>
   </extension>
   	<extension point="org.eclipse.ui.preferencePages">
  	<page
        class="com.espressif.idf.ui.preferences.EspresssifPreferencesPage"
        id="com.espressif.idf.ui.preferences.mainpage"
        name="Espressif">
  </page>
	</extension>
</plugin>
